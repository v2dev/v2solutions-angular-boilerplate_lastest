<div class="register-container">
    <p-card>
        @if(displaySection==='register') {
        <div class="logo d-flex align-items-center justify-content-center">
            <img src="./../../../../assets/images/logo-img.png" alt="logo" />
        </div>
        <h4 class="mb-0 ms-1 mt-3">Register</h4>
        <div class="row mt-3">
            <form [formGroup]="registerForm">
                <div class="col-12 mt-2">
                    <input class="w-100" id="fullname" pInputText placeholder="Enter full name" formControlName="name"
                        autocomplete="off" />
                </div>
                @if(form['name'].errors?.['required'] && form['name'].touched){
                <small class="text-danger"> Full name is required</small>
                }
                @else if (!form['name'].errors?.['required'] &&
                form['name'].errors?.['alphabetValidator']) {
                <small class="text-danger"> Please enter valid Name </small>
                }
                <div class="col-12 mt-2">
                    <input class="w-100" id="email" pInputText placeholder="Enter email" formControlName="email"
                        autocomplete="off" />
                </div>
                @if(form['email'].errors?.['required'] && form['email'].touched){
                <small class="text-danger"> Email is required</small>
                }
                @else if(!form['email'].errors?.['required'] && form['email'].errors?.['emailValidator']){
                <small class="text-danger"> Please enter valid email</small>
                }
                <div class="col-12 mt-2">
                    <p-dropdown [options]="cityList" optionLabel="name" placeholder="Select a city"
                        formControlName="country"></p-dropdown>
                </div>
                @if(form['country'].errors?.['required'] && form['country'].touched) {
                <small class="text-danger"> Country is required</small>
                }
                <div class="col-12 mt-2">
                    <p-password styleClass="w-100" formControlName="password" placeholder="Enter password"
                        [feedback]="false"></p-password>
                </div>
                @if(form['password'].errors?.['required'] && form['password'].touched){
                <small class="text-danger">Password is required</small>
                }
                @else if(form['password'].errors?.['minlength'] ){
                <small class="text-danger"> Password should be atleast 8 character long</small>
                }
                <div class="col-12 mt-2">
                    <p-password styleClass="w-100" formControlName="confirmPassword" placeholder="Re-enter password"
                        [feedback]="false"></p-password>
                </div>
                @if(form['confirmPassword'].errors?.['required'] && form['confirmPassword'].touched){
                <small class="text-danger">Confirm Password is required</small>
                }
                @else if (!form['confirmPassword'].errors?.['required'] &&
                form['confirmPassword'].errors?.['matchValue']) {
                <small class="text-danger"> Confirm password should be the same as password</small>
                }
                <div class="col-12  mt-2">
                    <p-button styleClass="w-100" label="Register" [disabled]="!registerForm.valid" [loading]="loading"
                        (onClick)="signUp()"></p-button>
                </div>
            </form>
            <div>Already have an account? <p-button label="Login" [link]="true" routerLink="/login"></p-button></div>
        </div>
        }
        @else if(displaySection==='authenticator') {
        <app-authenticator [authInfo]="registerForm.value" [imgUrl]="imgUrl"></app-authenticator>
        }
    </p-card>
</div>